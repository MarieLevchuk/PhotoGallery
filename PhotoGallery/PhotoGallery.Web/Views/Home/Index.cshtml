
@{
    ViewBag.Title = "Index";
}
@model List<PhotoGallery.Web.Models.GenreViewModel>

<header class="my_header">
    <div class="my_container">
        <div class="header_inner">
            <img class="header_logo" src="~/Content/source/logo.png">
            <nav class="my_nav"> <a class="nav_link" href="#catalog">Catalog</a> <a class="nav_link" href="#about">About</a> 
            @if (ViewBag.IsRegistered)
            {
                <a class="nav_link" href="~/Account/Logoff">Log out</a>
            }
            else
            {
                <a class="nav_link" href="~/Account/Login">Log in</a>
            }
             </nav>
            <!--end nav-->
        </div>
        <!--end header inner-->
    </div>
    <!--my_container-->
</header>
<!--end header-->
<div class="my_page">
    <section class="my_catalog" id="catalog">
        <div class="my_container">
            <div class="catalog_inner">
                <div class="catalog_name">Catalog</div>
                <div class="genres_list">
                    @foreach (var genre in Model)
                    {
                        <a class="genre_link" href="/Home/ToGenre?genreId=@genre.GenreId">@genre.Name</a>
                    }
                    @if (ViewBag.IsRegistered)
                    {
                        <a class="genre_link" href="#" style=" color: #5298bd">edit genres</a>
                    }
                </div>
            </div>
            <!--end catalog inner-->
        </div>
        <!--my_container-->
    </section>
    
    <section class="my_gallery">
        <div class="gallery_inner">
            @foreach (var genre in Model)
            {
                <div class="photos_line">
                    <div class="photos_container">
                        <a class="genre_title" href="/Home/ToGenre?genreId=@genre.GenreId">@genre.Name</a>
                        @foreach (var photo in  genre.Photos.OrderByDescending(p => p.PhotoId).Take(5))
                        {
                            <div class="photo_item img" style="background: url(@photo.Path) center no-repeat; background-size: cover;"> </div>
                        }
                    </div>
                </div>
            }
        </div>
        <!--end gallery inner-->
    </section>
</div>

